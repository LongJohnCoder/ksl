
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Coscrews &#8212; KSL 0.0.0 documentation</title>
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Influence Coefficient Matrices" href="../influence_coefficient_matrices/influence_coefficient_matrices.html" />
    <link rel="prev" title="Screws" href="../screws/screws.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">KSL</a></h1>



<p class="blurb">Kinematics Subroutine Library</p>






<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notation/notation.html">Notation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vectors/vectors.html">Vectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SE3/SE3.html">SE3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../screws/screws.html">Screws</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Coscrews</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#coadjoint-matrix">Coadjoint Matrix <span class="math notranslate nohighlight">\([Ad]^*\)</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="#influence-coefficient-matrices">Influence Coefficient Matrices</a></li>
<li class="toctree-l2"><a class="reference internal" href="#constraint-forces">Constraint Forces</a></li>
<li class="toctree-l2"><a class="reference internal" href="#inertia">Inertia</a></li>
<li class="toctree-l2"><a class="reference internal" href="#more-derivative-operator-matrices-and">More derivative operator matrices: <span class="math notranslate nohighlight">\([ad]\)</span> and <span class="math notranslate nohighlight">\([ad]^*\)</span></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../influence_coefficient_matrices/influence_coefficient_matrices.html">Influence Coefficient Matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../inertia/inertia.html">Inertia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lu_full/lu_full.html">Full Factor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zreferences.html">References</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doxyrest/global.html">Global Namespace</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../screws/screws.html" title="previous chapter">Screws</a></li>
      <li>Next: <a href="../influence_coefficient_matrices/influence_coefficient_matrices.html" title="next chapter">Influence Coefficient Matrices</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="coscrews">
<span id="id1"></span><h1>Coscrews<a class="headerlink" href="#coscrews" title="Permalink to this headline">¶</a></h1>
<p>Just as the linear and angular velocities can be combined in to a single <span class="math notranslate nohighlight">\(6 \times 1\)</span> column vector, forces and moments can be combined in a single quantity called a <em>wrench</em>.  A wrench is <em>dual</em> to a screw, i.e., it is a linear operator on a screw. In older literature, a wrench is often referred to as another kind of screw. In modern literature, a wrenches are referred to as a <em>coscrews</em> <a href="#id2"><span class="problematic" id="id3">:cite:`selig2005geometric`</span></a>. A superscript <span class="math notranslate nohighlight">\(^*\)</span> is used to distinguish a coscrew from a screw. A wrench, <span class="math notranslate nohighlight">\(\underline{\mathbf{f}}^*\)</span>, is defined as</p>
<div class="math notranslate nohighlight" id="equation-eq-wrench">
<span class="eqno">(1)<a class="headerlink" href="#equation-eq-wrench" title="Permalink to this equation">¶</a></span>\[\begin{split}\underline{\mathbf{f}}^*=\begin{Bmatrix}\underline{f}\\ \underline{\tau}\end{Bmatrix}=
\begin{Bmatrix}
f_x\\
f_y\\
f_z\\
\tau_x\\
\tau_y\\
\tau_z
\end{Bmatrix}\end{split}\]</div>
<div class="section" id="coadjoint-matrix">
<h2>Coadjoint Matrix <span class="math notranslate nohighlight">\([Ad]^*\)</span><a class="headerlink" href="#coadjoint-matrix" title="Permalink to this headline">¶</a></h2>
<p>As coscrews are dual to screws, they are transformed differently than screws. The following simple example illustrates how coscrews are transformed.  The power imparted by a linear combination of a wrench and screw is invariant, regardless of the coordinate system in which it is expressed. The power imparted by a given wrench and screw, the scalar quantity <span class="math notranslate nohighlight">\(p\)</span>, is given as</p>
<div class="math notranslate nohighlight" id="equation-eq-power">
<span class="eqno">(2)<a class="headerlink" href="#equation-eq-power" title="Permalink to this equation">¶</a></span>\[p = \underline{f}\cdot \underline{v} + \underline{\tau} \cdot \underline{\omega}=
\underline{\mathbf{f}}^* \cdot \underline{\mathbf{v}} = \underline{\mathbf{f}}^{*T}\underline{\mathbf{v}}\]</div>
<p>Recall that the operator for transforming screw quantities is</p>
<div class="math notranslate nohighlight" id="equation-eq-adjoint-matrix2">
<span class="eqno">(3)<a class="headerlink" href="#equation-eq-adjoint-matrix2" title="Permalink to this equation">¶</a></span>\[\begin{split}[Ad]=\begin{bmatrix}
R &amp; \tilde{r}R\\
0 &amp; R
\end{bmatrix}\end{split}\]</div>
<p>Therefore</p>
<div class="math notranslate nohighlight" id="equation-eq-transform-power">
<span class="eqno">(4)<a class="headerlink" href="#equation-eq-transform-power" title="Permalink to this equation">¶</a></span>\[\begin{split}p = \underline{\mathbf{f}}^{*T}\underline{\mathbf{v}}=
\underline{\mathbf{f}}^{*T}
[Ad]^{-1}[Ad]\underline{\mathbf{v}}=
\underline{\mathbf{f}}^{*T}
\begin{bmatrix}
R^T &amp; \tilde{r}R^T\\
0 &amp; R^T
\end{bmatrix}
\begin{bmatrix}
R &amp; \tilde{r}R\\
0 &amp; R
\end{bmatrix}
\underline{\mathbf{v}}=
\underline{\mathbf{f}^*}' \cdot \underline{\mathbf{v}}'\end{split}\]</div>
<p>And</p>
<div class="math notranslate nohighlight" id="equation-eq-transform-power2">
<span class="eqno">(5)<a class="headerlink" href="#equation-eq-transform-power2" title="Permalink to this equation">¶</a></span>\[\begin{split}\underline{\mathbf{f}^*}'=
[Ad]^{-T}\underline{\mathbf{f}}^*=[Ad]^*\underline{\mathbf{f}}^* =
\begin{bmatrix}
R &amp; 0\\
\tilde{r}R &amp; R
\end{bmatrix}
\underline{\mathbf{f}}^*\end{split}\]</div>
<p>Therefore, the <span class="math notranslate nohighlight">\(6\times6\)</span> <em>coadjoint</em> transformation matrix for transforming coscrews is <a class="footnote-reference" href="#id5" id="id4">[1]</a> :</p>
<div class="math notranslate nohighlight" id="equation-eq-coadjoint-matrix">
<span class="eqno">(6)<a class="headerlink" href="#equation-eq-coadjoint-matrix" title="Permalink to this equation">¶</a></span>\[\begin{split}[Ad]^* =
\begin{bmatrix}
R &amp; 0\\
\tilde{r}R &amp; R
\end{bmatrix}\end{split}\]</div>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[1]</a></td><td><p class="first">Note that the linear components of force and velocity are found in the top position of the velocity screw and wrenches; the angular components are found in the lower position. This convention allows power to be computed using the linear algebra dot product operator. Many authors swap the angular and linear terms in screw and wrench quantities, in which case the dot product does not yield power, and a special “reciprocal product” operator, denoted as <span class="math notranslate nohighlight">\(\odot\)</span> is used. For example, if angular terms are placed above the velocity screws, a reciprocal product is used to combine screw and coscrew quantities as:</p>
<p><span class="math notranslate nohighlight">\(p = \underline{f}\cdot{\underline{v}} + \underline{\tau} \cdot \underline{\omega}=\mathscr{\underline{W}} \odot \underline{\$} = \begin{Bmatrix}\underline{f}\\ \underline{\tau}
\end{Bmatrix}^T \begin{bmatrix}
0 &amp; I\\
I &amp; 0
\end{bmatrix}
\begin{Bmatrix}
\underline{\omega}\\ \underline{v}
\end{Bmatrix}\)</span></p>
<p class="last">Certainly, no convention is <em>more correct</em> than another, however keeping linear and angular components in the same position in screws and coscrews does have its advantages: (1) it obviates the need to introduce an additional reciprocal product operator, and (2) when formulating the equations of motion, the generalized mass matrix is symmetric, allowing the equations to be solved more efficiently using standard numerical methods.</p>
</td></tr>
</tbody>
</table>
</div>
<div class="section" id="influence-coefficient-matrices">
<h2>Influence Coefficient Matrices<a class="headerlink" href="#influence-coefficient-matrices" title="Permalink to this headline">¶</a></h2>
<p>An important tool in the analysis of mechanisms and multibody systems is a map of a particular joint’s velocity to the body velocity. From Eqs. <code class="xref eq docutils literal notranslate"><span class="pre">eq:omega_z</span></code> and <code class="xref eq docutils literal notranslate"><span class="pre">eq:screw</span></code>, it is possible to find the velocity screw associated with a revolute joint. The joint is aligned with <span class="math notranslate nohighlight">\(z\)</span> axis of reference frame <span class="math notranslate nohighlight">\(a\)</span>.</p>
<div class="math notranslate nohighlight" id="equation-eq-unit-velocity">
<span class="eqno">(7)<a class="headerlink" href="#equation-eq-unit-velocity" title="Permalink to this equation">¶</a></span>\[\begin{split}\underline{\mathbf{v}}_a=
\begin{Bmatrix}
0\\0\\ 0\\ 0\\ 0\\\dot{q}
\end{Bmatrix}=
\begin{Bmatrix}
0\\0\\ 0 \\0 \\0 \\1
\end{Bmatrix}\dot{q}=\underline{\mathbf{h}}_a\dot{q}\end{split}\]</div>
<p>Here <span class="math notranslate nohighlight">\(\underline{h}_a\)</span> is the <em>influence coefficient matrix</em> <a href="#id6"><span class="problematic" id="id7">:cite:`tsai1999robot`</span></a> associated with the joint. Note that the influence coefficient matrix taken at the joint’s origin is simply a unit twist, <span class="math notranslate nohighlight">\(\omega_z\)</span>, about the <span class="math notranslate nohighlight">\(z\)</span> axis.</p>
<p>Usually it is desirable to express the influence coefficient matrix with respect to other coordinate systems, such as the inertial reference frame. Using the <span class="math notranslate nohighlight">\([Ad]\)</span> operator in Eq. <code class="xref eq docutils literal notranslate"><span class="pre">eq:screw</span></code> yields:</p>
<div class="math notranslate nohighlight" id="equation-eq-influence-coefficient-matrix">
<span class="eqno">(8)<a class="headerlink" href="#equation-eq-influence-coefficient-matrix" title="Permalink to this equation">¶</a></span>\[\begin{split}\underline{\mathbf{v}}_0=
\underline{\mathbf{h}}_0\dot{q}=
[Ad]_{0a} \underline{\mathbf{h}}_a\dot{q}=
\begin{bmatrix}
R_{0a} &amp;\tilde{r}_{0a}R_{0a}\\
0 &amp; R_{0a}
\end{bmatrix}
\begin{Bmatrix}
0\\0\\ 0 \\0 \\0 \\1
\end{Bmatrix}\dot{q}\end{split}\]</div>
<p>These influence coefficient matrices taken with respect to the inertial reference frame form elements of the Jacobian matrix of a mechanism. As a mechanism moves through varying configurations, <span class="math notranslate nohighlight">\(\underline{h}_0\)</span> changes, and may require updating many millions of times in the course of a simulation. Equation <a class="reference internal" href="#equation-eq-influence-coefficient-matrix">(8)</a> reveals important insight that allows one to reduce the number of floating point operations (FLOPs) required to update the influence coefficient matrix of primitive joints.</p>
<div class="math notranslate nohighlight" id="equation-eq-screw-basis">
<span class="eqno">(9)<a class="headerlink" href="#equation-eq-screw-basis" title="Permalink to this equation">¶</a></span>\[\begin{split}\underline{\mathbf{h}}_0=
\begin{Bmatrix}
r_yR_{33}-r_zR_{23}\\
r_zR_{13}-r_xR_{33}\\
r_xR_{23}-r_yR_{13}\\
R_{13}\\
R_{23}\\
R_{33}\\
\end{Bmatrix}=
\begin{bmatrix}
R_{11} &amp; R_{12} &amp; R_{13} &amp; r_yR_{31}-r_zR_{21} &amp; r_yR_{32}-r_zR_{22} &amp; r_yR_{33}-r_zR_{23}\\
R_{21} &amp; R_{22} &amp; R_{11} &amp; r_zR_{11}-r_xR_{31} &amp; r_zR_{12}-r_xR_{32} &amp; r_zR_{13}-r_xR_{33}\\
R_{31} &amp; R_{32} &amp; R_{33} &amp; r_xR_{21}-r_yR_{11} &amp; r_xR_{22}-r_yR_{12} &amp; r_xR_{23}-r_yR_{13}\\
0 &amp; 0 &amp; 0 &amp; R_{11} &amp; R_{12} &amp; R_{13}\\
0 &amp; 0 &amp; 0 &amp; R_{21} &amp; R_{22} &amp; R_{23}\\
0 &amp; 0 &amp; 0 &amp; R_{31} &amp; R_{32} &amp; R_{33}\\
\end{bmatrix}
\begin{Bmatrix}
0\\0\\ 0 \\0 \\0 \\1
\end{Bmatrix}\end{split}\]</div>
<p>Once the position and orientation of each joint in a mechanism has been computed, the influence coefficient matrix can be computed simply by forming the corresponding column of <span class="math notranslate nohighlight">\([Ad]\)</span>, which requires only 9 additional FLOPs for revolute joints and no additional FLOPs for prismatic joints. Additionally, if SE(3) displacements and the Jacobian matrix are stored in column-major order, updating the influence coefficient matrices and elements Jacobian matrix can be vectorized with a stride of 1, which is optimal in terms of memory access.</p>
</div>
<div class="section" id="constraint-forces">
<h2>Constraint Forces<a class="headerlink" href="#constraint-forces" title="Permalink to this headline">¶</a></h2>
<p>Consider two bodies pinned together by a revolute joint aligned with the <span class="math notranslate nohighlight">\(z\)</span> axis of its local coordinate frame, <span class="math notranslate nohighlight">\(a\)</span>. If the joint is modeled without friction, then no torques about the joint axis can be transmitted from the first body to the second body. The only forces that can be imparted from one joint to the next are those orthogonal to the joint’s axis. If a spatial wrench <span class="math notranslate nohighlight">\(\underline{\mathbf{f}}^*_a\)</span> is applied to the joint, the non–working joint reaction forces are given by</p>
<div class="math notranslate nohighlight" id="equation-eq-joint-reaction-forces">
<span class="eqno">(10)<a class="headerlink" href="#equation-eq-joint-reaction-forces" title="Permalink to this equation">¶</a></span>\[\begin{split}\bar{H}^*_a\underline{\mathbf{f}}^*_a=
\begin{bmatrix}
1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\
0 &amp; 1 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\
0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0\\
0 &amp; 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0\\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 1 &amp; 0\\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\
\end{bmatrix}\underline{\mathbf{f}}^*_a\end{split}\]</div>
<p>The coadjoint transformation matrix, <span class="math notranslate nohighlight">\([Ad]^*\)</span>, from Eq. <a class="reference internal" href="#equation-eq-coadjoint-matrix">(6)</a> provides a convenient and compact method to express constraint forces in other coordinate systems.</p>
<div class="math notranslate nohighlight" id="equation-eq-h-bar-star">
<span class="eqno">(11)<a class="headerlink" href="#equation-eq-h-bar-star" title="Permalink to this equation">¶</a></span>\[\begin{split}\bar{H}^*_0=[Ad]^*_{0a}\begin{bmatrix}
1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\
0 &amp; 1 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\
0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0\\
0 &amp; 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0\\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 1 &amp; 0\\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\
\end{bmatrix}=
\begin{bmatrix}
R_{0a} &amp; 0\\
\tilde{r}_{0a}R_{0a} &amp; R_{0a}
\end{bmatrix}
\begin{bmatrix}
1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\
0 &amp; 1 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\
0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0\\
0 &amp; 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0\\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 1 &amp; 0\\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\
\end{bmatrix}\end{split}\]</div>
<p>Second, consider the case where working forces may be applied in a joint, such as in a robotic actuator. The torque provided by the motor required to resist the applied wrench <span class="math notranslate nohighlight">\(\underline{f}_a^*\)</span> is given by</p>
<div class="math notranslate nohighlight" id="equation-eq-h-star">
<span class="eqno">(12)<a class="headerlink" href="#equation-eq-h-star" title="Permalink to this equation">¶</a></span>\[\begin{split}\bar{h}^*_0\underline{\mathbf{f}}_a^*=[Ad]^*\begin{bmatrix}
0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 1\\
\end{bmatrix}\underline{\mathbf{f}}_a^*=
\begin{bmatrix}
R_{0a} &amp; 0\\
\tilde{r}_{0a}R_{0a} &amp; R_{0a}
\end{bmatrix}
\begin{bmatrix}
0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 1\\
\end{bmatrix}\underline{\mathbf{f}}_a^*\end{split}\]</div>
<p>From Eqs. <a class="reference internal" href="#equation-eq-h-bar-star">(11)</a> and <a class="reference internal" href="#equation-eq-h-star">(12)</a> it follows that</p>
<div class="math notranslate nohighlight" id="equation-eq-h-union-h-star">
<span class="eqno">(13)<a class="headerlink" href="#equation-eq-h-union-h-star" title="Permalink to this equation">¶</a></span>\[[Ad]^*=[\bar{H}^* \cup \underline{\mathbf{h}}^*]\]</div>
<p>and additionally that</p>
<div class="math notranslate nohighlight" id="equation-eq-ht-times-h-star">
<span class="eqno">(14)<a class="headerlink" href="#equation-eq-ht-times-h-star" title="Permalink to this equation">¶</a></span>\[\bar{H}^{T} \underline{\mathbf{h}}^* = 0\]</div>
<p>as each of the columns of <span class="math notranslate nohighlight">\(\bar{H}^*\)</span> are orthogonal to <span class="math notranslate nohighlight">\(\underline{\mathbf{h}}^*\)</span>.</p>
<p>In the present example, <span class="math notranslate nohighlight">\([\bar{H}^* \cup \underline{\mathbf{h}}^*]=[\bar{H}^* \underline{\mathbf{h}}^*]\)</span>, as <span class="math notranslate nohighlight">\(\underline{\mathbf{h}}^*\)</span> occurs in the last column of <span class="math notranslate nohighlight">\([Ad]^*\)</span>, however in the general case, <span class="math notranslate nohighlight">\(\underline{\mathbf{h}}^*\)</span> may occur in a different column of <span class="math notranslate nohighlight">\([Ad]^*\)</span>, corresponding to the type of primitive joint. In the following discussion, the <span class="math notranslate nohighlight">\(\cup\)</span> symbol is dropped with the understanding that the matrix <span class="math notranslate nohighlight">\(\underline{\mathbf{h}}^*\)</span> occurs in its respective column, interspersed within the columns of <span class="math notranslate nohighlight">\(\bar{H}^*\)</span>.</p>
</div>
<div class="section" id="inertia">
<h2>Inertia<a class="headerlink" href="#inertia" title="Permalink to this headline">¶</a></h2>
<p>In the body center of mass frame, the <span class="math notranslate nohighlight">\(6 \times 6\)</span> Inertia matrix, <span class="math notranslate nohighlight">\(M\)</span>, can be expressed as:</p>
<div class="math notranslate nohighlight" id="equation-eq-inertia-matrix">
<span class="eqno">(15)<a class="headerlink" href="#equation-eq-inertia-matrix" title="Permalink to this equation">¶</a></span>\[\begin{split}M_{11} = \begin{bmatrix}
mI &amp; 0\\
0 &amp; \bar{I}
\end{bmatrix}\end{split}\]</div>
<p>Where <span class="math notranslate nohighlight">\(m\)</span> is the body mass, <span class="math notranslate nohighlight">\(I\)</span> is a <span class="math notranslate nohighlight">\(3 \times 3\)</span> identity matrix and <span class="math notranslate nohighlight">\(\bar{I}\)</span> is the <span class="math notranslate nohighlight">\(3 \times 3\)</span> rotational inertia matrix. The body center of mass frame is denoted with a subscript <span class="math notranslate nohighlight">\(c\)</span>. When solving the equations of motion in a fixed inertial reference frame, it is necessary to transform these local inertia matrices to the origin of the fixed inertial reference frame, which is denoted with a subscript <span class="math notranslate nohighlight">\(f\)</span>. To understand how the inertia matrix is transformed to other coordinate systems, consider the equation for momentum, <span class="math notranslate nohighlight">\(\underline{\mathbf{p}}^*\)</span>. Note that the asterisk indicates the <span class="math notranslate nohighlight">\(\underline{\mathbf{p}}^*\)</span> is a <em>coscrew</em> quantity.</p>
<div class="math notranslate nohighlight" id="equation-eq-transform-1">
<span class="eqno">(16)<a class="headerlink" href="#equation-eq-transform-1" title="Permalink to this equation">¶</a></span>\[\underline{\mathbf{p}}^*_f = M_{cc} \underline{\mathbf{v}}_c\]</div>
<p>As noted above, coscrew quantities are transformed by left multiplication with the coadjoint operator, <span class="math notranslate nohighlight">\([Ad]^*\)</span>.</p>
<div class="math notranslate nohighlight" id="equation-eq-transform-2">
<span class="eqno">(17)<a class="headerlink" href="#equation-eq-transform-2" title="Permalink to this equation">¶</a></span>\[[Ad]^*_{cf}\underline{\mathbf{p}}_f = M_{cc}[Ad]_{fc}^{-1}[Ad]_{fc}\underline{\mathbf{v}}_c\]</div>
<div class="math notranslate nohighlight" id="equation-eq-transform-3">
<span class="eqno">(18)<a class="headerlink" href="#equation-eq-transform-3" title="Permalink to this equation">¶</a></span>\[\underline{\mathbf{p}}_f = [Ad]^{*-1}_{10}M_{11}[Ad]^{-1}_{fc}{\underline{\mathbf{v}}}_f=
[Ad]^*_{fc}M_{cc}[Ad]_{cf}\underline{\mathbf{v}}_f\]</div>
<p>yielding:</p>
<div class="math notranslate nohighlight" id="equation-eq-transform-4">
<span class="eqno">(19)<a class="headerlink" href="#equation-eq-transform-4" title="Permalink to this equation">¶</a></span>\[M_{ff} = [Ad]^*_{fc}M_{cc}[Ad]_{cf}\]</div>
<p>Again the <span class="math notranslate nohighlight">\(6 \times 6\)</span> Adjoint and Coadjoint matrices provides a convenient and compact notation to describe transformations, but full dense matrix algebra need not be applied to carry out transformation of the inertia matrix, noting that:</p>
<div class="math notranslate nohighlight" id="equation-eq-minimum-operations">
<span class="eqno">(20)<a class="headerlink" href="#equation-eq-minimum-operations" title="Permalink to this equation">¶</a></span>\[\begin{split}M_{ff} = [Ad]^*_{fc}M_{cc}[Ad]_{cf} =
\begin{bmatrix}
R_{fc}m_cIR_{cf} &amp; R_{fc}m_cI\tilde{r}_{cf}R_{cf}\\
\tilde{r}_{cf}R_{cf}m_1IR_{cf}&amp;
\tilde{r}_{cf}R_{cf}m_cI\tilde{r}_{cf}R_{cf} + R_{fc}\bar{I}_{cc}R_{cf}
\end{bmatrix}\end{split}\]</div>
<p>which can be further simplified as:</p>
<div class="math notranslate nohighlight" id="equation-eq-further-simplified">
<span class="eqno">(21)<a class="headerlink" href="#equation-eq-further-simplified" title="Permalink to this equation">¶</a></span>\[\begin{split}M_{ff} = \begin{bmatrix}
m_cI &amp;  m_cR_{fc}\tilde{r}_{cf}R_{cf}\\
-m_cR_{fc}\tilde{r}_{cf}R_{cf}     &amp; \bar{I}_{cc} -m_c\tilde{r}_{cf}^2
\end{bmatrix}\end{split}\]</div>
<p>and:</p>
<div class="math notranslate nohighlight" id="equation-eq-further-simplified2">
<span class="eqno">(22)<a class="headerlink" href="#equation-eq-further-simplified2" title="Permalink to this equation">¶</a></span>\[\begin{split}M_{ff} = \begin{bmatrix}
m_cI &amp;  m_c\tilde{r}_{cf}\\
-m_c\tilde{r}_{cf}     &amp; \bar{I}_{cc} -m_c\tilde{r}_{cf}^2
\end{bmatrix}\end{split}\]</div>
<p>Based on Eq. <a class="reference internal" href="#equation-eq-further-simplified2">(22)</a>, it is only necessary to store ten terms to reconstruct the inertia matrix: <span class="math notranslate nohighlight">\(m_c, m_c\underline{r}\)</span>, and the terms on and below the diagonal of <span class="math notranslate nohighlight">\(\bar{I}\)</span> (i.e. <span class="math notranslate nohighlight">\(I_{xx}\)</span>, <span class="math notranslate nohighlight">\(I_{yy}\)</span>, <span class="math notranslate nohighlight">\(I_{zz}\)</span>, <span class="math notranslate nohighlight">\(I_{xy}\)</span>, <span class="math notranslate nohighlight">\(I_{yz}\)</span> and <span class="math notranslate nohighlight">\(I_{zx}\)</span>). Storing only these 10 terms requires approximately 70% less storage than the full <span class="math notranslate nohighlight">\(6\times6\)</span> inertia matrix. In order to take advantage of SIMD for various algorithms which access the quantities in the inertia matrix, additional memory is used to store the quantity <span class="math notranslate nohighlight">\(-m_c\underline{r}\)</span>, which still results in a 64% reduction in storage compared to the full <span class="math notranslate nohighlight">\(6 \times 6\)</span> representation.</p>
<p>If the reference frame for the body is not taken as the center of mass, then in addition to the inertia matrix stored in the center of mass coordinate system, a vector from the body’s reference frame to the center of mass frame, <span class="math notranslate nohighlight">\(\underline{r}^{bc}_b\)</span>, is stored. Here, the subscript <span class="math notranslate nohighlight">\(b\)</span> denotes the body reference frame and the <span class="math notranslate nohighlight">\(c\)</span> denotes the center of mass frame.</p>
<div class="math notranslate nohighlight" id="equation-eq-not-com-frame">
<span class="eqno">(23)<a class="headerlink" href="#equation-eq-not-com-frame" title="Permalink to this equation">¶</a></span>\[M_{ff} = [Ad]^{*}_{fb}[Ad]^{*}_{bc} M_{cc} [Ad]_{cb}[Ad]_{bf}\]</div>
<div class="math notranslate nohighlight" id="equation-eq-not-com-frame2">
<span class="eqno">(24)<a class="headerlink" href="#equation-eq-not-com-frame2" title="Permalink to this equation">¶</a></span>\[M_{ff} = R_{fb} \bar{I}_{bb}^{cc} R_{bf}\]</div>
<div class="math notranslate nohighlight" id="equation-eq-not-com-frame3">
<span class="eqno">(25)<a class="headerlink" href="#equation-eq-not-com-frame3" title="Permalink to this equation">¶</a></span>\[\underline{r}_{f}^{fc} = \underline{r}_{f}^{fb} + R_{fb} \underline{r}_{b}^{bc}\]</div>
<div class="math notranslate nohighlight" id="equation-eq-not-com-frame4">
<span class="eqno">(26)<a class="headerlink" href="#equation-eq-not-com-frame4" title="Permalink to this equation">¶</a></span>\[\underline{t}_{temp} = m_c \underline{r}_{f}^{fc}\]</div>
<div class="math notranslate nohighlight" id="equation-eq-not-com-frame5">
<span class="eqno">(27)<a class="headerlink" href="#equation-eq-not-com-frame5" title="Permalink to this equation">¶</a></span>\[\begin{split}M_{ff} = \begin{bmatrix} mI &amp;  -\tilde{t}_{temp}\\
\tilde{t}_{temp} &amp; \bar{I}^{ff}_{cc} - \tilde{t}_{temp} \tilde{t}^{f}_{fc}\end{bmatrix}\end{split}\]</div>
<p>Then use the following identity to simplify the matrix product <span class="math notranslate nohighlight">\(\tilde{t}_{temp} \tilde{t}^{f}_{fc}\)</span>:</p>
<div class="math notranslate nohighlight" id="equation-eq-identity-simplify">
<span class="eqno">(28)<a class="headerlink" href="#equation-eq-identity-simplify" title="Permalink to this equation">¶</a></span>\[\tilde{a} \tilde{b} = b a^T - (a^T b) I\]</div>
<p>Therefore, <span class="math notranslate nohighlight">\(\tilde{a} \tilde{b}\)</span> is found as:</p>
<div class="math notranslate nohighlight" id="equation-eq-identity-simplify2">
<span class="eqno">(29)<a class="headerlink" href="#equation-eq-identity-simplify2" title="Permalink to this equation">¶</a></span>\[\begin{split}\begin{array} \text{result} \leftarrow \begin{Bmatrix}b_0 \\ b_1 \\ b_2\end{Bmatrix} \begin{Bmatrix}a_0&amp;a_1&amp;a_2\end{Bmatrix}\\
result -= trace(result) * I
\end{array}\end{split}\]</div>
<div class="math notranslate nohighlight" id="equation-eq-result">
<span class="eqno">(30)<a class="headerlink" href="#equation-eq-result" title="Permalink to this equation">¶</a></span>\[\bar{I}^{ff}_{ff} = \bar{I}^{ff}_{cc} - \tilde{t}_{temp} \tilde{r}^{f}_{fc}\]</div>
<div class="math notranslate nohighlight" id="equation-eq-result2">
<span class="eqno">(31)<a class="headerlink" href="#equation-eq-result2" title="Permalink to this equation">¶</a></span>\[\bar{I}^{ff}_{ff} = \bar{I}^{ff}_{cc} - result\]</div>
</div>
<div class="section" id="more-derivative-operator-matrices-and">
<h2>More derivative operator matrices: <span class="math notranslate nohighlight">\([ad]\)</span> and <span class="math notranslate nohighlight">\([ad]^*\)</span><a class="headerlink" href="#more-derivative-operator-matrices-and" title="Permalink to this headline">¶</a></h2>
<p>In Eq. <code class="xref eq docutils literal notranslate"><span class="pre">eq:spatial_velocity2</span></code>, the derivative operator of the SE(3) group was found. Similarly, the derivative operator matrices for the <span class="math notranslate nohighlight">\(6 \times 6\)</span> transformation matrices, <span class="math notranslate nohighlight">\([Ad]\)</span> and <span class="math notranslate nohighlight">\([Ad]^*\)</span> can be found as follows:</p>
<div class="math notranslate nohighlight" id="equation-eq-adjoint-representation">
<span class="eqno">(32)<a class="headerlink" href="#equation-eq-adjoint-representation" title="Permalink to this equation">¶</a></span>\[\begin{split}[ad] = \dot{[Ad]}[Ad]^{-1} =
\begin{bmatrix}
0 &amp; -\omega_z &amp; \omega_{y} &amp; 0 &amp; -v_z &amp; v_y\\
\omega_z &amp; 0 &amp; -\omega_x &amp; v_z &amp; 0 &amp; -v_x\\
-\omega_y &amp; \omega_x &amp; 0 &amp; -v_y &amp; v_x &amp; 0\\
0 &amp; 0 &amp; 0 &amp; 0 &amp; -\omega_z &amp; \omega_{y} \\
0 &amp; 0 &amp; 0 &amp;   \omega_z &amp; 0 &amp; -\omega_x\\
0 &amp; 0 &amp; 0 &amp; -\omega_y &amp; \omega_x &amp; 0
\end{bmatrix}=
\begin{bmatrix}
\tilde{\omega} &amp; \tilde{v}\\
0 &amp; \tilde{\omega}
\end{bmatrix}\end{split}\]</div>
<p>Similarly, the left derivative operator for <span class="math notranslate nohighlight">\([Ad]^*\)</span> matrices is:</p>
<div class="math notranslate nohighlight" id="equation-eq-adjoint-dual-rep">
<span class="eqno">(33)<a class="headerlink" href="#equation-eq-adjoint-dual-rep" title="Permalink to this equation">¶</a></span>\[\begin{split}[ad]^* = \dot{[Ad]^*}[Ad]^{*-1} =
\begin{bmatrix}
0 &amp; -\omega_z &amp; \omega_{y} &amp; 0 &amp; 0 &amp; 0\\
\omega_z &amp; 0 &amp; -\omega_x &amp; 0 &amp; 0 &amp; 0\\
-\omega_y &amp; \omega_x &amp; 0 &amp; 0 &amp; 0 &amp; 0\\
0 &amp; -v_z &amp; v_y &amp; 0 &amp; -\omega_z &amp; \omega_{y} \\
v_z &amp; 0 &amp; -v_x &amp;   \omega_z &amp; 0 &amp; -\omega_x\\
-v_y &amp; v_x &amp; 0 &amp; -\omega_y &amp; \omega_x &amp; 0
\end{bmatrix}=
\begin{bmatrix}
\tilde{\omega} &amp; 0\\
\tilde{v} &amp; \tilde{\omega}
\end{bmatrix}\end{split}\]</div>
<p>Previously, it was discussed how the derivative operators form the Lie algebra of the SE(3) group. Similarly, the <span class="math notranslate nohighlight">\(6\times6\)</span> <span class="math notranslate nohighlight">\([Ad]\)</span> matrices themselves fulfill the necessary requirements of a Lie group <a href="#id8"><span class="problematic" id="id9">:cite:`selig2005geometric`</span></a>. The <span class="math notranslate nohighlight">\([ad]\)</span> and <span class="math notranslate nohighlight">\([ad]^*\)</span> matrices comprise their respective Lie algebras.</p>
</div>
</div>


          </div>
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2018, Kristopher Wehage, Roger Wehage.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../_sources/coscrews/coscrews.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>